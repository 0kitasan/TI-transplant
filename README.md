# TI-transplant

## LCD(st7789)

直接暴力把原先在st上的静态链接库全部删除，否则不能编译，因为有些编译符号对不上

CS和RST分别直接接低电平和高电平的引脚，DC需要自己设置GPIO口

但是目前好像不是很稳定，LCD屏幕显示时而会挂掉

为解决这个问题，还需要再去研读一下数据手册TAT。

## UART redirect

C版本的可以直接重定向`printf`及其占位符

C++版本的只能不带占位符，我目前没找到什么好的解决方法

为了兼容LCD的C++库，整个项目最好还是使用C++；

解决方案是：自定义一个char数组，使用`sprintf`（在这里使用占位符）格式化字符串，最后直接用`printf`（不带占位符）输出

## THD mock

模拟赛的源代码，使用float形式的fft，但是能跑

需要再去研究一下定点数的fft



